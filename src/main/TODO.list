# Add in newArray section (visitorImp.java) if error need for -3!

//////////////////// TODO: remove in phase 4 (pre-process) //////////////////////
boolean isUnary = exp instanceof UnaryExpression;
if(isUnary) {
    UnaryExpression unaryExp = (UnaryExpression)exp;
    if(unaryExp.getUnaryOperator() == UnaryOperator.minus) {
        Expression innerExp = unaryExp.getValue();
        if(innerExp instanceof IntValue) {
            int value = ((IntValue)innerExp).getConstant();
            if(value >= 0)
                ErrorChecker.addError(new BadArraySize(newArray));
        }
    }
}
/////////////////////////////////////////////////////////////////////////////////

#